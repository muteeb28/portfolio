{
  "$schema": "https://ui.shadcn.com/schema/registry-item.json",
  "name": "consent-manager",
  "type": "registry:component",
  "title": "Consent Manager",
  "author": "ncdai <dai@chanhdai.com>",
  "description": "A React component for managing user consent for cookies and tracking in Next.js applications.",
  "dependencies": [
    "@c15t/nextjs"
  ],
  "registryDependencies": [
    "@ncdai/utils",
    "button"
  ],
  "files": [
    {
      "path": "src/components/consent-manager.tsx",
      "content": "import {\r\n  ConsentManagerDialog,\r\n  ConsentManagerProvider,\r\n  CookieBanner,\r\n} from \"@c15t/nextjs\";\r\n\r\nimport { buttonVariants } from \"@/components/ui/button\";\r\nimport { cn } from \"@/lib/utils\";\r\n\r\nimport { ConsentManagerClient } from \"./consent-manager-client\";\r\n\r\nexport function ConsentManager({ children }: { children: React.ReactNode }) {\r\n  return (\r\n    <ConsentManagerProvider\r\n      options={{\r\n        mode: \"offline\",\r\n        consentCategories: [\"necessary\", \"measurement\"],\r\n        // ignoreGeoLocation: process.env.NODE_ENV === \"development\", // Useful for development to always view the banner.\r\n      }}\r\n    >\r\n      <CookieBanner\r\n        theme={{\r\n          \"banner.card\": {\r\n            noStyle: true,\r\n            className: cn(\r\n              \"relative w-full max-w-(--banner-max-width) divide-y overflow-hidden rounded-2xl\",\r\n              \"bg-popover text-popover-foreground shadow-popover ring ring-popover-border\"\r\n            ),\r\n          },\r\n          \"banner.header.title\": {\r\n            noStyle: true,\r\n            className: \"text-lg font-semibold text-foreground\",\r\n          },\r\n          \"banner.header.description\": {\r\n            noStyle: true,\r\n            className: \"text-sm text-muted-foreground\",\r\n          },\r\n          \"banner.footer\": {\r\n            style: {\r\n              \"--banner-footer-background-color\": \"transparent\",\r\n              \"--banner-footer-background-color-dark\": \"transparent\",\r\n            },\r\n          },\r\n          \"banner.footer.reject-button\": {\r\n            noStyle: true,\r\n            className: buttonVariants({ variant: \"secondary\" }),\r\n          },\r\n          \"banner.footer.accept-button\": {\r\n            noStyle: true,\r\n            className: buttonVariants({ variant: \"secondary\" }),\r\n          },\r\n          \"banner.footer.customize-button\": {\r\n            noStyle: true,\r\n            className: buttonVariants({ variant: \"default\" }),\r\n          },\r\n        }}\r\n      />\r\n\r\n      <ConsentManagerDialog\r\n        theme={{\r\n          \"dialog.root\": {\r\n            noStyle: true,\r\n            style: {\r\n              \"--dialog-card-radius\": \"1rem\",\r\n\r\n              \"--dialog-background-color\": \"var(--background)\",\r\n              \"--dialog-background-color-dark\": \"var(--background)\",\r\n\r\n              \"--dialog-border-color\": \"var(--border)\",\r\n              \"--dialog-border-color-dark\": \"var(--border)\",\r\n            },\r\n            className:\r\n              \"rounded-2xl border-none bg-background shadow-popover ring ring-popover-border\",\r\n          },\r\n          \"dialog.overlay\": {\r\n            className:\r\n              \"[--dialog-overlay-background-color-dark:var(--color-black)]/50\",\r\n          },\r\n          \"dialog.title\": {\r\n            noStyle: true,\r\n            className: \"text-lg leading-none font-semibold text-foreground\",\r\n          },\r\n          \"dialog.description\": {\r\n            noStyle: true,\r\n            className: \"text-sm text-muted-foreground\",\r\n          },\r\n          \"dialog.footer\": {\r\n            style: {\r\n              \"--dialog-stroke-color\": \"var(--border)\",\r\n              \"--dialog-stroke-color-dark\": \"var(--border)\",\r\n\r\n              \"--dialog-branding-icon-height\": \"1.125rem\",\r\n              \"--dialog-branding-font-size\": \"0.875rem\",\r\n\r\n              \"--dialog-branding-focus-color\":\r\n                \"color-mix(in oklab, var(--ring) 50%, transparent)\",\r\n              \"--dialog-branding-focus-color-dark\":\r\n                \"color-mix(in oklab, var(--ring) 50%, transparent)\",\r\n\r\n              \"--dialog-foreground-color\": \"var(--muted-foreground)\",\r\n              \"--dialog-foreground-color-dark\": \"var(--muted-foreground)\",\r\n            },\r\n          },\r\n          \"widget.accordion.item\": {\r\n            noStyle: true,\r\n            className: \"rounded-lg border\",\r\n          },\r\n          \"widget.accordion.trigger\": {\r\n            noStyle: true,\r\n            className: \"flex items-center gap-3 pr-3\",\r\n          },\r\n          \"widget.accordion.trigger-inner\": {\r\n            noStyle: true,\r\n            className: cn(\r\n              \"flex flex-1 items-center rounded-lg px-4 py-3 text-sm font-semibold text-foreground **:[svg]:hidden\",\r\n              \"outline-none focus-visible:border-ring focus-visible:ring-[3px] focus-visible:ring-ring/50\"\r\n            ),\r\n          },\r\n          \"widget.accordion.content\": {\r\n            noStyle: true,\r\n            className:\r\n              \"overflow-hidden px-4 data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down\",\r\n          },\r\n          \"widget.accordion.content-inner\": {\r\n            noStyle: true,\r\n            className: \"pb-4 text-sm text-muted-foreground\",\r\n          },\r\n          \"widget.switch\": {\r\n            noStyle: true,\r\n            className: cn(\r\n              \"inline-flex h-4.5 w-8 shrink-0 items-center rounded-full transition-all\",\r\n              \"border border-transparent shadow-xs\",\r\n              \"outline-none focus-visible:border-ring focus-visible:ring-[3px] focus-visible:ring-ring/50\",\r\n              \"disabled:cursor-not-allowed disabled:opacity-50\",\r\n              \"data-[state=checked]:bg-primary data-[state=unchecked]:bg-input dark:data-[state=unchecked]:bg-input/80\"\r\n            ),\r\n          },\r\n          \"widget.switch.track\": {\r\n            noStyle: true,\r\n          },\r\n          \"widget.switch.thumb\": {\r\n            noStyle: true,\r\n            className: cn(\r\n              \"pointer-events-none block size-4 rounded-full bg-background ring-0 transition-transform\",\r\n              \"data-[state=checked]:translate-x-[calc(100%-2px)] data-[state=unchecked]:translate-x-0 dark:data-[state=checked]:bg-primary-foreground dark:data-[state=unchecked]:bg-foreground\"\r\n            ),\r\n          },\r\n          \"widget.footer.sub-group\": {\r\n            noStyle: true,\r\n            className: \"grid grid-cols-2 gap-4 sm:flex\",\r\n          },\r\n          \"widget.footer.reject-button\": {\r\n            noStyle: true,\r\n            className: buttonVariants({ variant: \"secondary\" }),\r\n          },\r\n          \"widget.footer.accept-button\": {\r\n            noStyle: true,\r\n            className: buttonVariants({ variant: \"secondary\" }),\r\n          },\r\n          \"widget.footer.save-button\": {\r\n            noStyle: true,\r\n            className: buttonVariants({ variant: \"default\" }),\r\n          },\r\n        }}\r\n      />\r\n\r\n      <ConsentManagerClient>{children}</ConsentManagerClient>\r\n    </ConsentManagerProvider>\r\n  );\r\n}\r\n",
      "type": "registry:component"
    },
    {
      "path": "src/registry/consent-manager/consent-manager-client.tsx",
      "content": "\"use client\";\r\n\r\nimport { ClientSideOptionsProvider } from \"@c15t/nextjs/client\";\r\n\r\nexport function ConsentManagerClient({\r\n  children,\r\n}: {\r\n  children: React.ReactNode;\r\n}) {\r\n  return (\r\n    <ClientSideOptionsProvider\r\n      callbacks={{\r\n        onConsentSet({ preferences }) {\r\n          if (preferences.measurement) {\r\n            // Enable measurement tracking\r\n          } else {\r\n            // Disable measurement tracking\r\n          }\r\n        },\r\n      }}\r\n    >\r\n      {children}\r\n    </ClientSideOptionsProvider>\r\n  );\r\n}\r\n",
      "type": "registry:component"
    }
  ],
  "cssVars": {
    "theme": {
      "color-popover-border": "var(--popover-border)",
      "shadow-popover": "var(--shadow-popover)"
    },
    "light": {
      "popover-border": "color-mix(in oklab, var(--color-black) 15%, transparent)",
      "shadow-popover": "0 6px 24px rgba(0, 0, 0, 0.25)"
    },
    "dark": {
      "popover-border": "oklch(0.37 0.013 285.805)",
      "shadow-popover": "0 0 24px rgba(0, 0, 0, 0.5)"
    }
  }
}